define("local_catquiz/manage_catscale_questions",["exports","core_form/dynamicform"],(function(_exports,_dynamicform){var obj;
/*
   * @package    local_catquiz
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=(obj=_dynamicform)&&obj.__esModule?obj:{default:obj};const SELECTORS_CONTEXTFORM="#select_context_form",SELECTORS_CHECKBOX="input.integrate-subscales-checkbox",SELECTORS_TABCONTAINER="#questions";function listenToSelect(element,location,paramname){const dynamicForm=new _dynamicform.default(element,location);dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED,(e=>{const response=e.detail;let searchParams=new URLSearchParams(window.location.search);searchParams.set(paramname,response[paramname]),window.location.search=searchParams.toString()})),dynamicForm.addEventListener("change",(e=>{e.preventDefault(),setTimeout((()=>{dynamicForm.submitFormAjax()}),500)}))}_exports.init=()=>{const container=document.querySelector(SELECTORS_TABCONTAINER),checkbox=container.querySelector(SELECTORS_CHECKBOX);checkbox.addEventListener("click",(e=>{let searchParams=new URLSearchParams(window.location.search);!0===checkbox.checked?(searchParams.set("usesubs",1),window.location.search=searchParams.toString()):(searchParams.set("usesubs",0),window.location.search=searchParams.toString())}));listenToSelect(container.querySelector(SELECTORS_CONTEXTFORM),"local_catquiz\\form\\contextselector","contextid");container.querySelector("[id='catmanagerquestions scaleselectors']").querySelectorAll('[id*="select_scale_form_scaleid"]').forEach((select=>{listenToSelect(select,"local_catquiz\\form\\scaleselector","scaleid")}))}}));

//# sourceMappingURL=manage_catscale_questions.min.js.map