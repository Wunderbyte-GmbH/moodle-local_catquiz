define("local_catquiz/recalculateremote",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * @package    local_catquiz
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);const SELECTORS_RECALCULATEBUTTON="#recalculate_remote";_exports.init=()=>{const recalcButton=document.querySelector(SELECTORS_RECALCULATEBUTTON);recalcButton&&recalcButton.addEventListener("click",(()=>{recalculateParameters()}))};const recalculateParameters=async()=>{const scaleid=new URLSearchParams(window.location.search).get("scaleid"),button=document.querySelector(SELECTORS_RECALCULATEBUTTON);try{const result=await _ajax.default.call([{methodname:"local_catquiz_recalculate_remote",args:{scaleid:scaleid}}])[0];if(!result.success)throw new Error(result.message);button.setAttribute("disabled",!0),_notification.default.addNotification({message:result.message,type:"success"})}catch(error){_notification.default.exception(error)}}}));

//# sourceMappingURL=recalculateremote.min.js.map